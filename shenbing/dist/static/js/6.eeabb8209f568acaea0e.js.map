{"version":3,"sources":["webpack:///./src/components/index/img/code_bg.png","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./src/components/index/creatCode.vue?d15b","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./node_modules/css-loader/lib/url/escape.js","webpack:///src/components/index/creatCode.vue","webpack:///./src/components/index/creatCode.vue?a357","webpack:///./src/components/index/creatCode.vue","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./src/components/index/creatCode.vue?ef2e"],"names":["module","exports","__webpack_require__","p","$Object","Object","it","key","desc","defineProperty","default","__esModule","content","i","locals","obj","_defineProperty","_defineProperty2","value","enumerable","configurable","writable","url","test","slice","replace","index_creatCode","_name$data$components","name","data","createdCoded","posterImgUrl","companyName","qrcodeId","components","methods","getUserRole","that","this","uertel","$util","getCookie","query","urltype","channelCodeSe","alert","$router","push","path","serve","then","res","code","status","exists","catch","error","console","log","creatCode","host","me","window","location","$route","companyId","util","newQrcode","html_013","sessionStorage","getItem","codeSec","QRCode","document","getElementById","text","width","height","colorDark","colorLight","setTimeout","initialize","href","escape2Html","str","arrEntities","lt","gt","nbsp","amp","quot","all","t","getCompany","timer","setInterval","$","find","attr","clearInterval","createPoster","succ","_this","canvas","createElement","canvasBox","$refs","posterWrapper","clientWidth","clientHeight","num","style","getContext","scale","posterWidth","options","backgroundColor","useCORS","logging","y","x","offsetLeft","html2canvas","toDataURL","defineProperty_default","setTitle","_this2","reloadme","reload","setItem","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","_v","attrs","id","src","alt","ref","domProps","innerHTML","_s","_m","staticStyle","margin","_withStripped","esExports","staticRenderFns","components_index_creatCode","disposed","Component","normalizeComponent","ssrContext","__file","__webpack_exports__","$export","S","F","f","escape","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/6.eeabb8209f568acaea0e.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/code_bg.9f2fa2d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/index/img/code_bg.png\n// module id = 7A8G\n// module chunks = 6","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 9bBU\n// module chunks = 6","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = C4MV\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e7effa8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./creatCode.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5fa71de2\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e7effa8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./creatCode.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e7effa8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./creatCode.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e7effa8e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/index/creatCode.vue\n// module id = F1hM\n// module chunks = 6","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = bOdI\n// module chunks = 6","module.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/url/escape.js\n// module id = kxFB\n// module chunks = 1 4 6 8","\n    <template>\n    <div class=\"codeMask box_border alignCenter\">\n\n        <div class=\"color_blue font075 lHeight_075\" v-show=\"createdCoded\">#您已经创建过# </div>\n        \n        <div class=\"color_white font075 lHeight_13\">长按图片保存到手机相册</div>\n        <div class=\"spacer_04\"></div>\n        <div class=\"pr\" id=\"creatCode\" >\n            <div class=\"code_area box_border\"  ref=\"posterWrapper\"  v-if=\"!posterImgUrl\">\n                <div class=\"lHeight_09 box_border\" v-html=\"companyName\"></div>\n                 \n                <div id=\"qrcode\" class=\"box_border alignCenter\"></div>\n\n            </div>\n            <div v-else>\n                <img :src=\"posterImgUrl\" alt=\"\">\n            </div>\n        <div class=\"spacer_04\"></div>\n         <div class=\"spacer_04\"></div>  \n        <div class=\"font06 color_ccc lHeight_075 alignCenter\">分享您的二维码<br>更快更好的收集健康信息</div>\n        <div class=\"spacer_06\"></div>\n        <div class=\"font06 color_666 lHeight_075 alignLeft\" v-show=\"createdCoded\" style=\"width:76%;margin:0 auto\">为了更好的进行疫情沟通，您单位内的人员可以查看到您的联系方式，请您知悉。</div>\n    </div>\n\n </div>\n\n\n    </template>\n    <style>\n    @import './css/creatCode.css'; \n\n    </style>  \n    <script>\n \n    import {util} from '@/libs/util.js';\n     import API from '@/serve/index.js';\n   \n    export default {\n        name:\"\",\n        data(){\n        \n            return {\n            createdCoded:false,//是否创建过二维码\n            posterImgUrl:'',\n            companyName:\"\",\n            qrcodeId:''\n\n            };\n        },\n        components: {\n\n\t\t\n\t\t},\n        methods:{\n                       // 判断用户身份\n            getUserRole:function(){\n                var that = this;\n                var uertel = this.$util.getCookie('userTel');\n                var query = {\n                    'qrcodeId':this.qrcodeId,\n                    'urltype':'question',\n                    'channelCodeSe':this.$util.getCookie('channelCodeSec') ? this.$util.getCookie('channelCodeSec') : '',\n                }\n                if(!uertel||uertel==''){\n                     alert('未登录或登录失效，请重新登录')\n                    this.$router.push({path:'/verify',query:query});\n                    return;\n                }else{\n                    API('get','/yjgcrest/feiyan/mobileexists?mobile='+ uertel).then( res => {\n                        if(res.data.code == '000001' || res.data.status == 200||!res.data.data || res.data.data.exists != 1){\n                            that.$router.push({path:'/verify',query:query});\n                            return;\n                        }\n                    }).catch( error => {\n                        console.log(error)\n                    })\n                }\n            },\n            //生成二维码    \n        creatCode:function(){\n            var me=this\n           var tel=\"\"\n           var host\n           if(window.location.host=='localhost:8080'){\n               host=\"http://\"+window.location.host+\"/#\"\n           }else{\n               host=\"https://\"+window.location.host+\"/#\" \n           }\n            if(!this.$route.query.qrcodeId||!this.$route.query.companyId){\n               window.location.href=host+\"/#/index\"\n                return\n          }    \n         \n            if(util.getCookie('userTel')){\n               tel=util.getCookie('userTel')\n           }        \n              if(!this.$route.query.qrcodeId||!this.$route.query.companyId){\n               window.location.href=host+\"/#/index\"\n                return\n          }   \n         if(this.$route.query.newQrcode&&this.$route.query.newQrcode==1){\n                me.createdCoded=true\n        }  \n\n         var html_013=host+\"/entryNumber/index?qrcodeId=\"+this.$route.query.qrcodeId\n\n         if(sessionStorage.getItem('channelCodeSec')){\n             const codeSec = sessionStorage.getItem('channelCodeSec');\n             html_013=host+\"/entryNumber/index?qrcodeId=\"+this.$route.query.qrcodeId+\"&channelCodeSe=\"+codeSec\n         }\n       \n          var qrcode = new QRCode(document.getElementById('qrcode'),{text:html_013,width: 148,height: 148,colorDark : \"#000000\",colorLight : \"#ffffff\",},html_013);\n         \n         setTimeout(function(){\n                 me.initialize()\n           },50)\n         },\n        escape2Html:function(str) {\n            var arrEntities={'lt':'<','gt':'>','nbsp':' ','amp':'&','quot':'\"'};\n            return str.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(all,t){return arrEntities[t];});\n        },\n        initialize: function () {\n            var that = this;\n\t\t\tthis.getCompany(function () {\n\t\t\tvar index=0\n\t\t\tvar timer=setInterval(function(){\n            if($('#qrcode').find('img').attr('src')!=''){\n                clearInterval(timer)\n                that.createPoster();\n                }\n            },500)\n            });\n        },\t\n        getCompany: function (succ) {\n                var me = this\n                API('get','/yjgcrest/feiyan/getCompany',{companyId: this.$route.query.companyId}).then( res => {\n                    if (res.data.code == '000001') {\n\t\t\t\t\t\tme.companyName = res.data.data.name;\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tsucc && succ()\n                        }, 50)\n                    }\n                }).catch( error => {\n                    console.log(error)\n                })\n                },\n            \n\t\t\tcreatePoster: function () {\n\n\t\t\t\t// 手动创建一个 canvas 标签\n\t\t\t\tconst canvas = document.createElement(\"canvas\")\n\t\t\t\t// 获取父标签，意思是这个标签内的 DOM 元素生成图片\n                let canvasBox = this.$refs.posterWrapper\n              \n\t\t\t\t// 获取父级的宽高\n                const width = canvasBox.clientWidth;// parseInt(window.getComputedStyle(canvasBox).width)\n               \n                const height = canvasBox.clientHeight;//parseInt(window.getComputedStyle(canvasBox).height)\n\n                let scale = 1;\n                var num=''\n              \n                if(this.createdCoded==true){\n                    num=61\n                }else{\n                   num=46  \n                }\n\n\t\t\t\t// 宽高 * 2 并放大 2 倍 是为了防止图片模糊\n\t\t\t\tcanvas.width = width *scale\n\t\t\t\tcanvas.height = height *scale\n\t\t\t\tcanvas.style.width = canvasBox.clientWidth * scale + 'px'\n\t\t\t\tcanvas.style.height = canvasBox.clientHeight * scale + 'px'\n\n\t\t\t\tconst context = canvas.getContext(\"2d\");\n\t\t\t\tcontext.scale(1, 1);\n\t\t\t\tthis.posterWidth = width;\n\n\t\t\t\tconst options = {\n\t\t\t\t\tscale: scale,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height,\n\t\t\t\t\tbackgroundColor: null,\n\t\t\t\t\tcanvas: canvas,\n\t\t\t\t\tuseCORS: true,\n\t\t\t\t\tlogging: true, \n\t\t\t\t\ty: num,\n\t\t\t\t\tx: canvasBox.offsetLeft\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\thtml2canvas(this.$refs.posterWrapper, options).then((canvas) => {\n\t\t\t\t\t// toDataURL 图片格式转成 base64\n\t\t\t\t\tthis.posterImgUrl = canvas.toDataURL(\"image/png\")\n\t\t\t\t\n\t\t\t\t})\n            },\n        },\n        components:{\n        \n        },\n        computed:{},\n        created(){\n            util.setTitle('创建二维码')\n       },\n        mounted(){\n            this.creatCode()\n             setTimeout(() => {\n                if(this.$route.query.reloadme==1){\n                    window.location.href=window.location.href.replace('reloadme=1','')\n                    window.location.reload()\n                }\n\n            }, 300);\n            //  this.getUserRole()\n            // this.$util.setCookie('qrcodeId',this.$route.query.qrcodeId);\n            sessionStorage.setItem('qrcodeId', this.$route.query.qrcodeId);\n        }\n    }\n    </script>  \n\n\n// WEBPACK FOOTER //\n// src/components/index/creatCode.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"codeMask box_border alignCenter\" }, [\n    _c(\n      \"div\",\n      {\n        directives: [\n          {\n            name: \"show\",\n            rawName: \"v-show\",\n            value: _vm.createdCoded,\n            expression: \"createdCoded\"\n          }\n        ],\n        staticClass: \"color_blue font075 lHeight_075\"\n      },\n      [_vm._v(\"#您已经创建过# \")]\n    ),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"color_white font075 lHeight_13\" }, [\n      _vm._v(\"长按图片保存到手机相册\")\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"spacer_04\" }),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"pr\", attrs: { id: \"creatCode\" } }, [\n      !_vm.posterImgUrl\n        ? _c(\n            \"div\",\n            { ref: \"posterWrapper\", staticClass: \"code_area box_border\" },\n            [\n              _c(\"div\", {\n                staticClass: \"lHeight_09 box_border\",\n                domProps: { innerHTML: _vm._s(_vm.companyName) }\n              }),\n              _vm._v(\" \"),\n              _c(\"div\", {\n                staticClass: \"box_border alignCenter\",\n                attrs: { id: \"qrcode\" }\n              })\n            ]\n          )\n        : _c(\"div\", [_c(\"img\", { attrs: { src: _vm.posterImgUrl, alt: \"\" } })]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"spacer_04\" }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"spacer_04\" }),\n      _vm._v(\" \"),\n      _vm._m(0),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"spacer_06\" }),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.createdCoded,\n              expression: \"createdCoded\"\n            }\n          ],\n          staticClass: \"font06 color_666 lHeight_075 alignLeft\",\n          staticStyle: { width: \"76%\", margin: \"0 auto\" }\n        },\n        [\n          _vm._v(\n            \"为了更好的进行疫情沟通，您单位内的人员可以查看到您的联系方式，请您知悉。\"\n          )\n        ]\n      )\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\n      \"div\",\n      { staticClass: \"font06 color_ccc lHeight_075 alignCenter\" },\n      [_vm._v(\"分享您的二维码\"), _c(\"br\"), _vm._v(\"更快更好的收集健康信息\")]\n    )\n  }\n]\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-e7effa8e\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e7effa8e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/index/creatCode.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e7effa8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./creatCode.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./creatCode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./creatCode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e7effa8e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./creatCode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/index/creatCode.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-e7effa8e\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-e7effa8e\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/index/creatCode.vue\n// module id = null\n// module chunks = ","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = mClu\n// module chunks = 6","var escape = require(\"../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\nhtml,body{\\n  height: 100%;\\n}\\n.box_border{box-sizing: border-box;-webkit-box-sizing: border-box;\\n}\\n.box_content{box-sizing: content-box;-webkit-box-sizing: content-box;\\n}\\n.pr{position: relative;\\n}\\n.pa{position: absolute;\\n}\\n.codeMask{\\n    width: 100%;\\n    min-height: 100%;\\n    padding: .6rem 0 1rem;\\n    background-color: rgba(0,0,0,.8);\\n}\\n.color_333{color: #333;\\n}\\n.color_666{color: #666;\\n}\\n.color_ccc{color: #ccc;\\n}\\n.color_6c{color: #6C7D92;\\n}\\n.color_white{color: #fff;\\n}\\n.color_blue{color: #2D78E0;\\n}\\n.font06{font-size: .6rem;\\n}\\n.font07{font-size: .7rem;\\n}\\n.font075{font-size: .75rem;\\n}\\n.font09{font-size: .9rem;\\n}\\n.b500{font-weight: 500;\\n}\\n.lHeight_075{line-height: .75rem;\\n}\\n.lHeight_09{line-height: .9rem;\\n}\\n.lHeight_10{line-height: 1rem;\\n}\\n.lHeight_13{ line-height: 1.3rem;\\n}\\n.spacer_04{height: .4rem;\\n}\\n.spacer_10{height: 1rem;\\n}\\n.spacer_05{height: .5rem;\\n}\\n.spacer_06{height: .6rem;\\n}\\n.alignCenter{text-align: center;\\n}\\n.alignLeft{text-align: left;\\n}\\n.alignRight{text-align: right;\\n}\\n.code_area{\\n    margin: 0 auto;\\n    width: 15.5rem;\\n    height: 22.25rem;\\n    background: url(\" + escape(require(\"./img/code_bg.png\")) + \")no-repeat center top;\\n    background-size: 100% auto;\\n    padding-top: 4.15rem;\\n}\\n.code_area .lHeight_09{\\n    margin: 0 auto;\\n    width: 10.5rem;\\n    word-break: break-all;\\n  font-size: .6rem;\\n  color: #333;\\n  line-height: 1.05rem;\\n  min-height: 1.91rem;\\n  padding: 0 0 .41rem;\\n}\\n#canvas{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.creatCode{\\n    z-index: 20;\\n}\\n#qrcode{\\n    position: relative;\\n    margin: 0 auto;\\n    width: 7.38rem;\\n    height: 7.38rem;\\n}\\n#qrcode canvas{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n#qrcode img{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n\\n    width: 7.38rem!important;\\n    height: 7.38rem!important;\\n} \\n\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/shanshan/Desktop/vue-project/shenbing/src/components/index/css/creatCode.css\"],\"names\":[],\"mappings\":\";AAAA;EACE,aAAa;CACd;AACD,YAAY,uBAAuB,+BAA+B;CAAC;AACnE,aAAa,wBAAwB,gCAAgC;CAAC;AACtE,IAAI,mBAAmB;CAAC;AACxB,IAAI,mBAAmB;CAAC;AACxB;IACI,YAAY;IACZ,iBAAiB;IACjB,sBAAsB;IACtB,iCAAiC;CACpC;AAED,WAAW,YAAY;CAAC;AACxB,WAAW,YAAY;CAAC;AACxB,WAAW,YAAY;CAAC;AACxB,UAAU,eAAe;CAAC;AAC1B,aAAa,YAAY;CAAC;AAC1B,YAAY,eAAe;CAAC;AAC5B,QAAQ,iBAAiB;CAAC;AAC1B,QAAQ,iBAAiB;CAAC;AAC1B,SAAS,kBAAkB;CAAC;AAC5B,QAAQ,iBAAiB;CAAC;AAC1B,MAAM,iBAAiB;CAAC;AAExB,aAAa,oBAAoB;CAAC;AAClC,YAAY,mBAAmB;CAAC;AAChC,YAAY,kBAAkB;CAAC;AAC/B,aAAa,oBAAoB;CAAC;AAClC,WAAW,cAAc;CAAC;AAC1B,WAAW,aAAa;CAAC;AACzB,WAAW,cAAc;CAAC;AAC1B,WAAW,cAAc;CAAC;AAE1B,aAAa,mBAAmB;CAAC;AACjC,WAAW,iBAAiB;CAAC;AAC7B,YAAY,kBAAkB;CAAC;AAC/B;IACI,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,8DAAwD;IACxD,2BAA2B;IAC3B,qBAAqB;CACxB;AACD;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;EACxB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,oBAAoB;EACpB,oBAAoB;CACrB;AAED;IACI,mBAAmB;IACnB,OAAO;IACP,QAAQ;CACX;AACD;IACI,YAAY;CACf;AACD;IACI,mBAAmB;IACnB,eAAe;IACf,eAAe;IACf,gBAAgB;CAEnB;AACD;IACI,mBAAmB;IACnB,OAAO;IACP,QAAQ;CACX;AACD;IACI,mBAAmB;IACnB,OAAO;IACP,QAAQ;;IAER,yBAAyB;IACzB,0BAA0B;CAE7B\",\"file\":\"creatCode.vue\",\"sourcesContent\":[\"html,body{\\n  height: 100%;\\n}\\n.box_border{box-sizing: border-box;-webkit-box-sizing: border-box;}\\n.box_content{box-sizing: content-box;-webkit-box-sizing: content-box;}\\n.pr{position: relative;}\\n.pa{position: absolute;}\\n.codeMask{\\n    width: 100%;\\n    min-height: 100%;\\n    padding: .6rem 0 1rem;\\n    background-color: rgba(0,0,0,.8);\\n}\\n\\n.color_333{color: #333;}\\n.color_666{color: #666;}\\n.color_ccc{color: #ccc;}\\n.color_6c{color: #6C7D92;}\\n.color_white{color: #fff;}\\n.color_blue{color: #2D78E0;}\\n.font06{font-size: .6rem;}\\n.font07{font-size: .7rem;}\\n.font075{font-size: .75rem;}\\n.font09{font-size: .9rem;}\\n.b500{font-weight: 500;}\\n\\n.lHeight_075{line-height: .75rem;}\\n.lHeight_09{line-height: .9rem;}\\n.lHeight_10{line-height: 1rem;}\\n.lHeight_13{ line-height: 1.3rem;}\\n.spacer_04{height: .4rem;}\\n.spacer_10{height: 1rem;}\\n.spacer_05{height: .5rem;}\\n.spacer_06{height: .6rem;}\\n\\n.alignCenter{text-align: center;}\\n.alignLeft{text-align: left;}\\n.alignRight{text-align: right;}\\n.code_area{\\n    margin: 0 auto;\\n    width: 15.5rem;\\n    height: 22.25rem;\\n    background: url(../img/code_bg.png)no-repeat center top;\\n    background-size: 100% auto;\\n    padding-top: 4.15rem;\\n}\\n.code_area .lHeight_09{\\n    margin: 0 auto;\\n    width: 10.5rem;\\n    word-break: break-all;\\n  font-size: .6rem;\\n  color: #333;\\n  line-height: 1.05rem;\\n  min-height: 1.91rem;\\n  padding: 0 0 .41rem;\\n}\\n\\n#canvas{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.creatCode{\\n    z-index: 20;\\n}\\n#qrcode{\\n    position: relative;\\n    margin: 0 auto;\\n    width: 7.38rem;\\n    height: 7.38rem;\\n   \\n}\\n#qrcode canvas{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n#qrcode img{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n\\n    width: 7.38rem!important;\\n    height: 7.38rem!important;\\n  \\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e7effa8e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/index/creatCode.vue\n// module id = vK2O\n// module chunks = 6"],"sourceRoot":""}