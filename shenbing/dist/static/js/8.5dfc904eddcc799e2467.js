webpackJsonp([8],{"6bMb":function(e,n,t){var o=t("kxFB");(e.exports=t("FZ+f")(!0)).push([e.i,"\n.createCode[data-v-d74049f6]{\n    width:100%;\n    height:100%;\n    background:#f8f8f8;\n}\n.header[data-v-d74049f6]{\n    width:100%;\n    height:6.9rem;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    background:url("+o(t("SHn5"))+");\n    background-repeat: no-repeat;\n    background-size: 100%;\n}\n.createCode-content[data-v-d74049f6]{\n    width:100%;\n    height: calc( 100vh - 6.9rem);\n    padding: 0.75rem 0.51rem;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.createCode-warpper[data-v-d74049f6]{\n    padding: 1.225rem 1.3rem 1.325rem 1.45rem;\n    background: #fff;\n    border-radius: 0.4rem;\n    width: 100%;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.createCode-warpper-title[data-v-d74049f6]{\n    font-size: 0.9rem;\n    color: rgba(51,51,51,1);\n    margin-bottom: 1.35rem;\n}\n.inputall[data-v-d74049f6]{\n    height: 2.25rem;\n    width: 13.90rem;\n    font-size: 0.8rem;\n    -webkit-box-shadow: 0px 0px 2px 0px rgba(102,102,102,0.2);\n            box-shadow: 0px 0px 2px 0px rgba(102,102,102,0.2);\n    border-radius: 8px;\n    font-family: Microsoft YaHei;\n    font-weight: 400;\n    padding: 0.1rem 0 .1rem 0.85rem;\n}\n.createCode-list-next[data-v-d74049f6]{\n    text-align: center;\n    width: 14.75rem;\n    height: 2.5rem;\n    margin: 0 auto;\n    line-height: 2.5rem;\n    background: #eee;\n    font-size: 1rem;\n    color: #fff;\n    font-family: Microsoft YaHei;\n    font-weight: 400;\n    border-radius: 1.25rem;\n    margin-top:70%;\n}\n.createCode-list-nextPage[data-v-d74049f6]{\n    margin-top:4rem;\n}\n.footer-title[data-v-d74049f6]{\n    margin-top:1.15rem;\n    text-align: center;\n    color:rgba(153,153,153,1);\n}\n/**--- 类别 ----*/\n.common_select_state[data-v-d74049f6]{\n    display:block;\n    height:2.2rem;\n    padding:0 0.85rem;\n    line-height:2.2rem;\n    font-size:0.8rem;\n    border:1px solid #e9e9e9;\n    background:#fff;\n    border-radius:4px;\n    width:13.9rem;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    position:relative;\n}\n.common_select_state b[data-v-d74049f6]{\n    font-weight:normal;\n}\n.common_select_state .arrow_right[data-v-d74049f6]{\n    position:absolute;\n    right:0.4rem;\n    font-size:1rem;\n    top:50%;\n    margin-top:-0.5rem;\n}\n.common_select_state .tip[data-v-d74049f6]{\n    color:#ccc8c8;\n    font-style: normal;\n}\n.warp_dialog[data-v-d74049f6]{\n    width:100%;\n    height:100%;\n    position:fixed;\n    left:0;\n    top:0;\n}\n.warp_dialog .mark[data-v-d74049f6]{\n    width:100%;\n    height:100%;\n    background:#000;\n    opacity: 0.4;\n}\n.dialog_content_address[data-v-d74049f6]{\n    width:100%;\n    height:22rem;\n    position:absolute;\n    left:0;\n    bottom:0;\n    background:#fff;\n    border-radius:0.2rem;\n}\n.dialog_content[data-v-d74049f6]{\n    width:16rem;\n    position:absolute;\n    left:1.375rem;\n    top:50%;\n    margin-top:-4.5rem;\n    background:#fff;\n    border-radius:0.2rem;\n}\n.state_style[data-v-d74049f6]{\n    padding-top:1rem;\n    width:100%;\n}\n.state_style[data-v-d74049f6] .el-radio{\n    display:block;\n    padding:0.7rem 1.7rem;\n    color:#333;\n}\n.state_style[data-v-d74049f6] .el-radio__label{\n    font-size:0.7rem;\n}\n/*------表单-------*/\n.form_title[data-v-d74049f6]{\n    font-size:0.75rem;\n}\n.verify-warpper .el-form-item[data-v-d74049f6]{\n    padding:0;\n    margin-bottom: 1rem;\n}\n.verify-warpper .input_style[data-v-d74049f6]{\n    margin-top:0.7rem;\n}\n.verify-warpper .input_style[data-v-d74049f6] .el-input__inner{\n    height:2.75rem;\n    padding:0 0.7rem;\n    line-height:2.75rem;\n    font-size:0.8rem;\n}\n.form_title i[data-v-d74049f6]{\n    color:#f00;\n    margin-left:0.4rem;\n}\n.messTip[data-v-d74049f6]{\n    position:fixed;\n    background:#000;\n    opacity: 0.4;\n    color:#fff;\n    height:1.6rem;\n    font-size:0.6rem;\n    line-height:1.6rem;\n    top:33%;\n    left:30%;\n    padding:0 1rem;\n    border-radius:0.2rem;\n}\n","",{version:3,sources:["/Users/shanshan/Desktop/vue-project/shenbing/src/components/organization/src/components/organization/createCode.vue"],names:[],mappings:";AAoRA;IACA,WAAA;IACA,YAAA;IACA,mBAAA;CACA;AACA;IACA,WAAA;IACA,cAAA;IACA,+BAAA;YAAA,uBAAA;IACA,yCAAA;IACA,6BAAA;IACA,sBAAA;CACA;AACA;IACA,WAAA;IACA,8BAAA;IACA,yBAAA;IACA,+BAAA;YAAA,uBAAA;CACA;AACA;IACA,0CAAA;IACA,iBAAA;IACA,sBAAA;IACA,YAAA;IACA,+BAAA;YAAA,uBAAA;CACA;AACA;IACA,kBAAA;IACA,wBAAA;IACA,uBAAA;CACA;AACA;IACA,gBAAA;IACA,gBAAA;IACA,kBAAA;IACA,0DAAA;YAAA,kDAAA;IACA,mBAAA;IACA,6BAAA;IACA,iBAAA;IACA,gCAAA;CACA;AACA;IACA,mBAAA;IACA,gBAAA;IACA,eAAA;IACA,eAAA;IACA,oBAAA;IACA,iBAAA;IACA,gBAAA;IACA,YAAA;IACA,6BAAA;IACA,iBAAA;IACA,uBAAA;IACA,eAAA;CACA;AACA;IACA,gBAAA;CACA;AACA;IACA,mBAAA;IACA,mBAAA;IACA,0BAAA;CACA;AAEA,gBAAA;AACA;IACA,cAAA;IACA,cAAA;IACA,kBAAA;IACA,mBAAA;IACA,iBAAA;IACA,yBAAA;IACA,gBAAA;IACA,kBAAA;IACA,cAAA;IACA,+BAAA;YAAA,uBAAA;IACA,kBAAA;CACA;AACA;IACA,mBAAA;CACA;AACA;IACA,kBAAA;IACA,aAAA;IACA,eAAA;IACA,QAAA;IACA,mBAAA;CACA;AACA;IACA,cAAA;IACA,mBAAA;CACA;AAEA;IACA,WAAA;IACA,YAAA;IACA,eAAA;IACA,OAAA;IACA,MAAA;CACA;AACA;IACA,WAAA;IACA,YAAA;IACA,gBAAA;IACA,aAAA;CACA;AACA;IACA,WAAA;IACA,aAAA;IACA,kBAAA;IACA,OAAA;IACA,SAAA;IACA,gBAAA;IACA,qBAAA;CACA;AACA;IACA,YAAA;IACA,kBAAA;IACA,cAAA;IACA,QAAA;IACA,mBAAA;IACA,gBAAA;IACA,qBAAA;CACA;AACA;IACA,iBAAA;IACA,WAAA;CACA;AACA;IACA,cAAA;IACA,sBAAA;IACA,WAAA;CACA;AACA;IACA,iBAAA;CACA;AAEA,mBAAA;AACA;IACA,kBAAA;CACA;AACA;IACA,UAAA;IACA,oBAAA;CACA;AACA;IACA,kBAAA;CACA;AACA;IACA,eAAA;IACA,iBAAA;IACA,oBAAA;IACA,iBAAA;CACA;AACA;IACA,WAAA;IACA,mBAAA;CACA;AACA;IACA,eAAA;IACA,gBAAA;IACA,aAAA;IACA,WAAA;IACA,cAAA;IACA,iBAAA;IACA,mBAAA;IACA,QAAA;IACA,SAAA;IACA,eAAA;IACA,qBAAA;CACA",file:"createCode.vue",sourcesContent:["\x3c!--createCode 生成二维码--\x3e\n<template>\n    <div class=\"createCode\">\n        <div class='header'></div>\n        <div class='createCode-content'>\n            <div class='createCode-warpper'>\n                <div v-if=\"pageShow\">\n                    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n                        <el-form-item label=\"\" label-width=\"0\">\n                            <p class=\"form_title color333\"><span>1.请选择您的单位或机构类型</span><i>*</i></p>\n                            <span class=\"common_select_state\" @click=\"showStateList('type')\">\n                                <i class=\"tip\" v-if=\"!form.type\">请选择</i><b v-else>{{form.type}}</b>\n                                <i class=\"el-icon-arrow-right arrow_right\"></i>\n                            </span>\n                        </el-form-item>\n                        <el-form-item label=\"\" label-width=\"0\">\n                            <p class=\"form_title color333\"><span>2.输入单位或机构名称</span><i>*</i></p>\n                            <input class='inputall phoneInput' type=\"text\" @input=\"handleChange\"  v-model='name' placeholder=\"请填写\">\n                        </el-form-item>\n                    </el-form>\n                    <div class='createCode-list-next createCode-list-nextPage' @click='handleNext'>免费生成单位二维码</div>\n                </div>\n                <div v-else>\n                    <p class='createCode-warpper-title'>单位名称</p>\n                    <div class='form-warpper'>\n                        \x3c!-- <input class='inputall' type=\"text\" @input='handleChange' v-model='name' placeholder=\"请输入您的单位名称\"> --\x3e\n                        <input class='inputall' type=\"text\" @input='handleChangeW' v-model='name' placeholder=\"请输入您的单位名称\">\n                    </div>\n                    \x3c!-- <div class='createCode-list-next' @click='handleNext'>免费生成单位二维码</div> --\x3e\n                    <div class='createCode-list-next' @click='handleNextW'>免费生成单位二维码</div>\n                </div>\n                \n            </div> \n            <div class='footer-title'>\n                <p>页面由中软国际解放号免费提供<p>\n                <p>www.jfh.com</p>\n            </div>\n        </div>\n        \x3c!--是否显示弹框--\x3e\n        <div class=\"warp_dialog\" v-if=\"isShowDialog\" @click=\"closeDialog()\">\n            <div class=\"mark\"></div>\n            <div class=\"dialog_content\" @click.stop=\"function(){return false}\">\n                <el-radio-group v-model=\"state\" class=\"state_style\" @change=\"closeDialog()\">\n                    <el-radio v-for=\"(item,index) in seleType\" :label=\"index\" :key=\"index\">{{item.cnName}}</el-radio>\n                </el-radio-group>\n            </div>\n        </div>\n        <div class=\"messTip\" v-if=\"messTip\">{{messTip}}</div>\n    </div>\n</template>\n<script>\n    import API from '@/serve/index.js';\n    import {util} from '@/libs/util.js';\n    export default{\n        data(){\n            return{\n                name:'',\n                qrcodeIdShow:true,\n                hidshow:true,\n                form:{\n                    type:'',\n                    seleMsg:'',\n                },\n                state:'',\n                currentName:'',\n                isShowDialog:false,\n                seleType:[],\n                channelCodeSec:'',\n                pageShow:false,\n                messTip:'',\n            }\n        },\n        created(){\n            util.setTitle('填写信息');\n            let channelCodeSec = this.$route.query.channelCodeSe;\n            if(channelCodeSec){\n                util.setCookie('channelCodeSec',channelCodeSec)\n            }\n            if(util.getCookie('channelCodeSec')){\n                this.channelCodeSec = util.getCookie('channelCodeSec');\n            }else{\n                this.channelCodeSec = '';\n            }\n            if(this.channelCodeSec == 'Y29tbW9uOzE3' || this.channelCodeSec == '' || !this.channelCodeSec || this.channelCodeSec == \"null\"){\n                this.channelCodeSec = 'Y29tbW9uOzE3';\n                this.$_init();\n                this.pageShow = true;\n            }else{\n                this.pageShow = false;\n            }\n        },\n        mounted() {\n            // this.getUserRole()\n            // window.onresize监听页面高度的变化\n            window.onresize = ()=>{\n                return(()=>{\n                    this.showHeight = document.body.clientHeight;\n                })()\n            }\n        },\n        computed:{\n            formText(){\n                return this.form.type\n            }\n        },\n        watch:{\n            showHeight:function() {\n                if(this.docmHeight > this.showHeight){\n                    this.hidshow=false\n                }else{\n                    this.hidshow=true\n                }\n            },\n            formText(){\n                this.judeBtn();\n            }\n        },\n        methods:{\n            getUserRole:function(){\n                var that = this;\n                var uertel = this.$util.getCookie('userTel');\n                var query = {\n                   'channelCodeSe':this.$util.getCookie('channelCodeSec') ? this.$util.getCookie('channelCodeSec') : '',\n                }\n                if(!uertel){\n                    alert('未登录或登录失效，请重新登录')\n                    this.$router.push({path:'/verify',query:query});\n                    return;\n                }else{\n                    API('get','/yjgcrest/feiyan/mobileexists?mobile='+ uertel).then( res => {\n                        if(res.data.code != '000001' ||!res.data.data || res.data.data.exists != 1){\n                            that.$router.push({path:'/verify',query:query});\n                            return;\n                        }\n                    }).catch( error => {\n                        console.log(error)\n                    })\n                }\n            },\n            $_init(){\n                API('get','/yjgcrest/feiyan/findOrgType?channelCode='+this.channelCodeSec+ '&memo='+'&fullName=',).then( res => {\n                    if(res.data.code == '000001'){\n                        this.seleType = res.data.data;\n                    }else{\n\n                    }\n                }).catch( error => {\n                    console.log(error)\n                })\n            },\n            //选择类型\n            showStateList(type){\n                this.currentName = type;\n                this.isShowDialog = true;\n                this.state = this.form[this.currentName];\n            },\n            // 关闭弹框\n            closeDialog(){\n                 this.isShowDialog = false;\n                 this.form[this.currentName] = this.seleType[this.state].cnName;\n                 this.form.seleMsg = this.seleType[this.state].code;\n            },\n            //判断选择问题\n            judeBtn(){\n                let btn = document.querySelector('.createCode-list-next');\n                if(this.form.type && this.name.trim()){\n                    this.showBtn = true;\n                    btn.style.background = '#E4393C';\n                }else{\n                    this.showBtn = false;\n                    btn.style.background = '#eee';\n                }\n            },\n            handleChange(e){\n                this.qrcodeIdShow = true;\n                let btn = document.querySelector('.createCode-list-next');\n                if(e.target.value.length > 0 && e.target.value.trim() != '' && this.form.type){\n                    this.showBtn = true;\n                    btn.style.background = '#E4393C';\n                }else{\n                    this.showBtn = false;\n                    btn.style.background = '#eee';\n                }\n            },\n            //02-15 控制未来城二维码按钮\n            handleChangeW(e){\n                this.qrcodeIdShow = true;\n                let btn = document.querySelector('.createCode-list-next');\n                if(e.target.value.length > 0 && e.target.value.trim() != ''){\n                    this.showBtn = true;\n                    btn.style.background = '#E4393C';\n                }else{\n                    this.showBtn = false;\n                    btn.style.background = '#eee';\n                }\n            },\n            //免费生成组织二维码(修改版本02-15)\n            handleNext(){\n                if(!this.showBtn){\n                    return;\n                }\n                let orgType = ''\n                if(this.pageShow){\n                    if(!this.form.type){\n                        this.messTip = '请选择您的单位或机构类型';\n                        setTimeout(() => {\n                            this.messTip = '';\n                        },1000);\n                        return;\n                    }\n                    orgType = this.form.seleMsg;\n                }\n                let params = {\n                    companyName:this.name.trim(),\n                    platform:this.channelCodeSec,\n                    orgType:orgType,\n                }\n                API('JSONPOST','/yjgcrest/feiyan/addCompany',params).then( res => {\n                    if(res.data.code == '000001'){\n                        let msg = res.data.data.companyId;\n                        this.qrcodeId(msg) \n                    }\n                }).catch( error => {\n                    console.log(error)\n                })\n            },\n\n            handleNextW(){\n                let params = {\n                    companyName:this.name.trim(),\n                    platform:this.channelCodeSec\n                }\n               \n                API('JSONPOST','/yjgcrest/feiyan/addCompany',params).then( res => {\n               \n                    if(res.data.code == '000001'){\n                        let msg = res.data.data.companyId;\n                        this.qrcodeId(msg) \n                    }\n                }).catch( error => {\n                    console.log(error)\n                })\n            },\n\n            qrcodeId(msg){\n                var tel = util.getCookie('userTel');\n\n                var params={\n                    companyId: msg,\n                     mobile:tel,\n                     invitecode:'',  //当前人邀请码\n                     parentInvitecode:'',\n                    channel: ''         //渠道\n                }\n                API('JSONPOST','/yjgcrest/feiyan/addCompanyQrcode',params).then( res => {\n                    if(res.data.code == '000001'){\n                        this.qrcodeIdShow = true;\n                        let qrcodeId = res.data.data.qrcodeId;\n\n                        \n                        if(window.location.host=='localhost:8080'){\n                            host_wxshare=\"http://\"+window.location.host+\"/#/creatCode?\"\n                        }else{\n                              host_wxshare=\"https://\"+window.location.host+\"/#/creatCode?\" \n                        }\n                        window.location.href = host_wxshare + 'qrcodeId='+qrcodeId+'&companyId='+msg+'&reloadme=1';\n                    }\n                }).catch( error => {\n                    console.log(error)\n                })\n            },\n        }\n    }\n\n<\/script>\n<style scoped>\n    .createCode{\n        width:100%;\n        height:100%;\n        background:#f8f8f8;\n    }\n    .header{\n        width:100%;\n        height:6.9rem;\n        box-sizing: border-box;\n        background:url('../../assets/image/headerTitle.png');\n        background-repeat: no-repeat;\n        background-size: 100%;\n    }\n    .createCode-content{\n        width:100%;\n        height: calc( 100vh - 6.9rem);\n        padding: 0.75rem 0.51rem;\n        box-sizing: border-box;\n    }\n    .createCode-warpper{\n        padding: 1.225rem 1.3rem 1.325rem 1.45rem;\n        background: #fff;\n        border-radius: 0.4rem;\n        width: 100%;\n        box-sizing: border-box;\n    }\n    .createCode-warpper-title{\n        font-size: 0.9rem;\n        color: rgba(51,51,51,1);\n        margin-bottom: 1.35rem;\n    }\n    .inputall{\n        height: 2.25rem;\n        width: 13.90rem;\n        font-size: 0.8rem;\n        box-shadow: 0px 0px 2px 0px rgba(102,102,102,0.2);\n        border-radius: 8px;\n        font-family: Microsoft YaHei;\n        font-weight: 400;\n        padding: 0.1rem 0 .1rem 0.85rem;\n    }\n    .createCode-list-next{\n        text-align: center;\n        width: 14.75rem;\n        height: 2.5rem;\n        margin: 0 auto;\n        line-height: 2.5rem;\n        background: #eee;\n        font-size: 1rem;\n        color: #fff;\n        font-family: Microsoft YaHei;\n        font-weight: 400;\n        border-radius: 1.25rem;\n        margin-top:70%;\n    }\n    .createCode-list-nextPage{\n        margin-top:4rem;\n    }\n    .footer-title{\n        margin-top:1.15rem;\n        text-align: center;\n        color:rgba(153,153,153,1);\n    }\n\n    /**--- 类别 ----*/\n    .common_select_state{\n        display:block;\n        height:2.2rem;\n        padding:0 0.85rem;\n        line-height:2.2rem;\n        font-size:0.8rem;\n        border:1px solid #e9e9e9;\n        background:#fff;\n        border-radius:4px;\n        width:13.9rem;\n        box-sizing: border-box;\n        position:relative;\n    }\n    .common_select_state b{\n        font-weight:normal;\n    }\n    .common_select_state .arrow_right{\n        position:absolute;\n        right:0.4rem;\n        font-size:1rem;\n        top:50%;\n        margin-top:-0.5rem;\n    }\n    .common_select_state .tip{\n        color:#ccc8c8;\n        font-style: normal;\n    }\n\n    .warp_dialog{\n        width:100%;\n        height:100%;\n        position:fixed;\n        left:0;\n        top:0;\n    }\n    .warp_dialog .mark{\n        width:100%;\n        height:100%;\n        background:#000;\n        opacity: 0.4;\n    }\n    .dialog_content_address{\n        width:100%;\n        height:22rem;\n        position:absolute;\n        left:0;\n        bottom:0;\n        background:#fff;\n        border-radius:0.2rem;\n    }\n    .dialog_content{\n        width:16rem;\n        position:absolute;\n        left:1.375rem;\n        top:50%;\n        margin-top:-4.5rem;\n        background:#fff;\n        border-radius:0.2rem;\n    }\n    .state_style{\n        padding-top:1rem;\n        width:100%;\n    }\n    .state_style /deep/ .el-radio{\n        display:block;\n        padding:0.7rem 1.7rem;\n        color:#333;\n    }\n    .state_style /deep/ .el-radio__label{\n        font-size:0.7rem;\n    }\n\n    /*------表单-------*/\n    .form_title{\n        font-size:0.75rem;\n    }\n    .verify-warpper .el-form-item{\n        padding:0;\n        margin-bottom: 1rem;\n    }\n    .verify-warpper .input_style{\n        margin-top:0.7rem;\n    }\n    .verify-warpper .input_style /deep/ .el-input__inner{\n        height:2.75rem;\n        padding:0 0.7rem;\n        line-height:2.75rem;\n        font-size:0.8rem;\n    }\n    .form_title i{\n        color:#f00;\n        margin-left:0.4rem;\n    }\n    .messTip{\n        position:fixed;\n        background:#000;\n        opacity: 0.4;\n        color:#fff;\n        height:1.6rem;\n        font-size:0.6rem;\n        line-height:1.6rem;\n        top:33%;\n        left:30%;\n        padding:0 1rem;\n        border-radius:0.2rem;\n    }\n</style>   "],sourceRoot:""}])},OEpC:function(e,n,t){var o=t("6bMb");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("rjj0")("79c82565",o,!1,{})},SHn5:function(e,n,t){e.exports=t.p+"static/img/headerTitle.79b4e16.png"},kxFB:function(e,n){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},wclF:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("gZND"),i=t("TVG1"),a={data:function(){return{name:"",qrcodeIdShow:!0,hidshow:!0,form:{type:"",seleMsg:""},state:"",currentName:"",isShowDialog:!1,seleType:[],channelCodeSec:"",pageShow:!1,messTip:""}},created:function(){i.b.setTitle("填写信息");var e=this.$route.query.channelCodeSe;e&&i.b.setCookie("channelCodeSec",e),i.b.getCookie("channelCodeSec")?this.channelCodeSec=i.b.getCookie("channelCodeSec"):this.channelCodeSec="","Y29tbW9uOzE3"!=this.channelCodeSec&&""!=this.channelCodeSec&&this.channelCodeSec&&"null"!=this.channelCodeSec?this.pageShow=!1:(this.channelCodeSec="Y29tbW9uOzE3",this.$_init(),this.pageShow=!0)},mounted:function(){var e=this;window.onresize=function(){e.showHeight=document.body.clientHeight}},computed:{formText:function(){return this.form.type}},watch:{showHeight:function(){this.docmHeight>this.showHeight?this.hidshow=!1:this.hidshow=!0},formText:function(){this.judeBtn()}},methods:{getUserRole:function(){var e=this,n=this.$util.getCookie("userTel"),t={channelCodeSe:this.$util.getCookie("channelCodeSec")?this.$util.getCookie("channelCodeSec"):""};if(!n)return alert("未登录或登录失效，请重新登录"),void this.$router.push({path:"/verify",query:t});Object(o.a)("get","/yjgcrest/feiyan/mobileexists?mobile="+n).then(function(n){"000001"==n.data.code&&n.data.data&&1==n.data.data.exists||e.$router.push({path:"/verify",query:t})}).catch(function(e){console.log(e)})},$_init:function(){var e=this;Object(o.a)("get","/yjgcrest/feiyan/findOrgType?channelCode="+this.channelCodeSec+"&memo=&fullName=").then(function(n){"000001"==n.data.code&&(e.seleType=n.data.data)}).catch(function(e){console.log(e)})},showStateList:function(e){this.currentName=e,this.isShowDialog=!0,this.state=this.form[this.currentName]},closeDialog:function(){this.isShowDialog=!1,this.form[this.currentName]=this.seleType[this.state].cnName,this.form.seleMsg=this.seleType[this.state].code},judeBtn:function(){var e=document.querySelector(".createCode-list-next");this.form.type&&this.name.trim()?(this.showBtn=!0,e.style.background="#E4393C"):(this.showBtn=!1,e.style.background="#eee")},handleChange:function(e){this.qrcodeIdShow=!0;var n=document.querySelector(".createCode-list-next");e.target.value.length>0&&""!=e.target.value.trim()&&this.form.type?(this.showBtn=!0,n.style.background="#E4393C"):(this.showBtn=!1,n.style.background="#eee")},handleChangeW:function(e){this.qrcodeIdShow=!0;var n=document.querySelector(".createCode-list-next");e.target.value.length>0&&""!=e.target.value.trim()?(this.showBtn=!0,n.style.background="#E4393C"):(this.showBtn=!1,n.style.background="#eee")},handleNext:function(){var e=this;if(this.showBtn){var n="";if(this.pageShow){if(!this.form.type)return this.messTip="请选择您的单位或机构类型",void setTimeout(function(){e.messTip=""},1e3);n=this.form.seleMsg}var t={companyName:this.name.trim(),platform:this.channelCodeSec,orgType:n};Object(o.a)("JSONPOST","/yjgcrest/feiyan/addCompany",t).then(function(n){if("000001"==n.data.code){var t=n.data.data.companyId;e.qrcodeId(t)}}).catch(function(e){console.log(e)})}},handleNextW:function(){var e=this,n={companyName:this.name.trim(),platform:this.channelCodeSec};Object(o.a)("JSONPOST","/yjgcrest/feiyan/addCompany",n).then(function(n){if("000001"==n.data.code){var t=n.data.data.companyId;e.qrcodeId(t)}}).catch(function(e){console.log(e)})},qrcodeId:function(e){var n=this,t=i.b.getCookie("userTel"),a={companyId:e,mobile:t,invitecode:"",parentInvitecode:"",channel:""};Object(o.a)("JSONPOST","/yjgcrest/feiyan/addCompanyQrcode",a).then(function(t){if("000001"==t.data.code){n.qrcodeIdShow=!0;var o=t.data.data.qrcodeId;"localhost:8080"==window.location.host?host_wxshare="http://"+window.location.host+"/#/creatCode?":host_wxshare="https://"+window.location.host+"/#/creatCode?",window.location.href=host_wxshare+"qrcodeId="+o+"&companyId="+e+"&reloadme=1"}}).catch(function(e){console.log(e)})}}},r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"createCode"},[t("div",{staticClass:"header"}),e._v(" "),t("div",{staticClass:"createCode-content"},[t("div",{staticClass:"createCode-warpper"},[e.pageShow?t("div",[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"","label-width":"0"}},[t("p",{staticClass:"form_title color333"},[t("span",[e._v("1.请选择您的单位或机构类型")]),t("i",[e._v("*")])]),e._v(" "),t("span",{staticClass:"common_select_state",on:{click:function(n){return e.showStateList("type")}}},[e.form.type?t("b",[e._v(e._s(e.form.type))]):t("i",{staticClass:"tip"},[e._v("请选择")]),e._v(" "),t("i",{staticClass:"el-icon-arrow-right arrow_right"})])]),e._v(" "),t("el-form-item",{attrs:{label:"","label-width":"0"}},[t("p",{staticClass:"form_title color333"},[t("span",[e._v("2.输入单位或机构名称")]),t("i",[e._v("*")])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"inputall phoneInput",attrs:{type:"text",placeholder:"请填写"},domProps:{value:e.name},on:{input:[function(n){n.target.composing||(e.name=n.target.value)},e.handleChange]}})])],1),e._v(" "),t("div",{staticClass:"createCode-list-next createCode-list-nextPage",on:{click:e.handleNext}},[e._v("免费生成单位二维码")])],1):t("div",[t("p",{staticClass:"createCode-warpper-title"},[e._v("单位名称")]),e._v(" "),t("div",{staticClass:"form-warpper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"inputall",attrs:{type:"text",placeholder:"请输入您的单位名称"},domProps:{value:e.name},on:{input:[function(n){n.target.composing||(e.name=n.target.value)},e.handleChangeW]}})]),e._v(" "),t("div",{staticClass:"createCode-list-next",on:{click:e.handleNextW}},[e._v("免费生成单位二维码")])])]),e._v(" "),e._m(0)]),e._v(" "),e.isShowDialog?t("div",{staticClass:"warp_dialog",on:{click:function(n){return e.closeDialog()}}},[t("div",{staticClass:"mark"}),e._v(" "),t("div",{staticClass:"dialog_content",on:{click:function(e){return e.stopPropagation(),!1}}},[t("el-radio-group",{staticClass:"state_style",on:{change:function(n){return e.closeDialog()}},model:{value:e.state,callback:function(n){e.state=n},expression:"state"}},e._l(e.seleType,function(n,o){return t("el-radio",{key:o,attrs:{label:o}},[e._v(e._s(n.cnName))])}),1)],1)]):e._e(),e._v(" "),e.messTip?t("div",{staticClass:"messTip"},[e._v(e._s(e.messTip))]):e._e()])};r._withStripped=!0;var A={render:r,staticRenderFns:[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"footer-title"},[n("p",[this._v("页面由中软国际解放号免费提供")]),n("p"),n("p",[this._v("www.jfh.com")])])}]},s=A;var d=!1;var l=t("VU/8")(a,s,!1,function(e){d||t("OEpC")},"data-v-d74049f6",null);l.options.__file="src/components/organization/createCode.vue";n.default=l.exports}});
//# sourceMappingURL=8.5dfc904eddcc799e2467.js.map