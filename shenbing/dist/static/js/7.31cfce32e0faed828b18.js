webpackJsonp([7],{"+Qqk":function(n,e,t){n.exports=t.p+"static/img/origaination_banner.649825f.png"},"3AhG":function(n,e,t){n.exports=t.p+"static/img/icon-tips-2.2bb893d.png"},UQhR:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n.wrap[data-v-5468b538]{\n        width:100%;\n        height:100%;\n        background:#f8f8f8;\n}\n.banner[data-v-5468b538]{\n        width:100%;\n        height:6.25rem;\n        overflow:hidden;\n}\n.banner img[data-v-5468b538]{\n        float:left;\n        width:100%;\n        height:auto;\n}\n.wrap_content[data-v-5468b538]{\n        padding:0.7rem;\n}\n.content[data-v-5468b538]{\n        padding:1.4rem 1.5rem;\n        border-radius:4px;\n        background:#fff;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n}\n.wrap_content_gameover[data-v-5468b538]{\n        padding:0.7rem;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        height:70%;\n}\n.content_over[data-v-5468b538]{\n        padding:2.4rem 1.5rem;\n        border-radius:4px;\n        background:#fff;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        text-align:center;\n        height:100%;\n}\n.content_over img[data-v-5468b538]{\n        width:3rem;\n        height:3rem;\n        margin-bottom:0.7rem;\n}\n.content_title[data-v-5468b538]{\n        height:0.9rem;\n        line-height:0.9rem;\n        padding-bottom: 1.5rem;\n}\n.content_title i[data-v-5468b538]{\n        display:block;\n        width:0.4rem;\n        height:0.4rem;\n        border-radius:50%;\n        background:#3366CC;\n        float:left;\n        margin-top:0.25rem;\n}\n.content_title span[data-v-5468b538]{\n        display:block;\n        height:0.9rem;\n        line-height:0.9rem;\n        font-size:0.8rem;\n        margin-left:0.6rem;\n        color:#333;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n}\n.content_id[data-v-5468b538]{\n        padding-left:0.9rem;\n        padding-top:0.7rem;\n        padding-bottom:1.5rem;\n        font-size:0.6rem;\n        color:#999;\n}\n.content_des[data-v-5468b538]{\n        color:#999;\n        line-height:0.9rem;\n}\n.content_btns[data-v-5468b538]{\n        width:100%;\n        margin-top:4.8rem;\n}\n.content_btns span[data-v-5468b538]{\n        display:block;\n        width:100%;\n        height:2.5rem;\n        line-height:2.5rem;\n        text-align:center;\n        border-radius:2.5rem;\n        color:#fff;\n        font-size:1.05rem;\n}\n.content_btns .bg_blue[data-v-5468b538]{\n        background:#3366CC;\n}\n.content_btns .bg_red[data-v-5468b538]{\n        background:#CC0000;\n        margin-top:0.6rem;\n}\n.wrap_copy[data-v-5468b538]{\n        width:100%;\n        position:fixed;\n        bottom:0.9rem;\n        left:0;\n        text-align:center;\n}\n.content_tip_over[data-v-5468b538] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin-top: 1.75rem;\n}\n.content_tip_btn[data-v-5468b538] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    border: 1px solid #eeeeee;\n    background-color: #fff;\n    border-radius: 2rem;\n    width: 14rem;\n    height: 3rem;\n    font-size: 0.7rem;\n    color: #333;\n}\n","",{version:3,sources:["/Users/shanshan/Desktop/vue-project/shenbing/src/components/organizationNumber/src/components/organizationNumber/entryNumber.vue"],names:[],mappings:";AAsQA;QACA,WAAA;QACA,YAAA;QACA,mBAAA;CACA;AACA;QACA,WAAA;QACA,eAAA;QACA,gBAAA;CACA;AACA;QACA,WAAA;QACA,WAAA;QACA,YAAA;CACA;AACA;QACA,eAAA;CACA;AACA;QACA,sBAAA;QACA,kBAAA;QACA,gBAAA;QACA,+BAAA;gBAAA,uBAAA;CACA;AACA;QACA,eAAA;QACA,+BAAA;gBAAA,uBAAA;QACA,WAAA;CACA;AACA;QACA,sBAAA;QACA,kBAAA;QACA,gBAAA;QACA,+BAAA;gBAAA,uBAAA;QACA,kBAAA;QACA,YAAA;CACA;AACA;QACA,WAAA;QACA,YAAA;QACA,qBAAA;CACA;AACA;QACA,cAAA;QACA,mBAAA;QACA,uBAAA;CAEA;AACA;QACA,cAAA;QACA,aAAA;QACA,cAAA;QACA,kBAAA;QACA,mBAAA;QACA,WAAA;QACA,mBAAA;CACA;AACA;QACA,cAAA;QACA,cAAA;QACA,mBAAA;QACA,iBAAA;QACA,mBAAA;QACA,WAAA;QACA,iBAAA;QACA,oBAAA;QACA,wBAAA;CAEA;AACA;QACA,oBAAA;QACA,mBAAA;QACA,sBAAA;QACA,iBAAA;QACA,WAAA;CACA;AACA;QACA,WAAA;QACA,mBAAA;CACA;AACA;QACA,WAAA;QACA,kBAAA;CACA;AACA;QACA,cAAA;QACA,WAAA;QACA,cAAA;QACA,mBAAA;QACA,kBAAA;QACA,qBAAA;QACA,WAAA;QACA,kBAAA;CACA;AACA;QACA,mBAAA;CACA;AACA;QACA,mBAAA;QACA,kBAAA;CACA;AACA;QACA,WAAA;QACA,eAAA;QACA,cAAA;QACA,OAAA;QACA,kBAAA;CACA;AACA;IACA,qBAAA;IAAA,qBAAA;IAAA,cAAA;IACA,6BAAA;IAAA,8BAAA;QAAA,2BAAA;YAAA,uBAAA;IACA,yBAAA;QAAA,sBAAA;YAAA,wBAAA;IACA,0BAAA;QAAA,uBAAA;YAAA,oBAAA;IACA,oBAAA;CACA;AACA;IACA,qBAAA;IAAA,qBAAA;IAAA,cAAA;IACA,6BAAA;IAAA,8BAAA;QAAA,2BAAA;YAAA,uBAAA;IACA,yBAAA;QAAA,sBAAA;YAAA,wBAAA;IACA,0BAAA;QAAA,uBAAA;YAAA,oBAAA;IACA,0BAAA;IACA,uBAAA;IACA,oBAAA;IACA,aAAA;IACA,aAAA;IACA,kBAAA;IACA,YAAA;CACA",file:"entryNumber.vue",sourcesContent:["\x3c!--\n****--@file     entryNumber\n****--@date     2020/02/03 10:13\n****--@author   lishan\n****--@describe 组织成员入口\n--\x3e\n<template>\n   <div class=\"wrap\">\n        <div class=\"banner\">\n            \x3c!--<img v-if=\"!bannerImg\" src=\"../../assets/imgs/originationNumber/origaination_banner.png\"/>--\x3e\n            <img :src=\"bannerImg\"/>\n            \n        </div>\n        <div class=\"wrap_content\" v-if=\"activeIsExit == 1\">\n            <div class=\"content\">\n                <h3 class=\"content_title\" ><i></i><span>{{data.companyName}}</span></h3>\n            \n                <p class=\"content_des font12 color_999\">\n                    目前全国正在万众一心抗击新型冠状病毒疫情，我们牵挂每一位人员在这场疫情中的平安和健康，为了了解大家目前的真实情况，上下一心，一起把风险降到最低，请您务必及时如实填写问卷，感谢您的支持与配合，我们期待您平安归来。\n                </p>\n                <div class=\"content_btns\" v-if=\"userRole\">\n                    <span class=\"bg_blue\" @click=\"addHealthBtn\">填报我的健康信息</span>\n                    <span class=\"bg_red\" @click=\"goZuzhiBtn\" v-if=\"userRole == 2\">查看我的单位信息</span>\n                </div>\n            </div>\n        </div>\n       <div class=\"wrap_content_gameover\" v-if=\"activeIsExit == 2\">\n           <div class=\"content_over\">\n               <img src=\"../../assets/imgs/originationNumber/failure.png\"/>\n               <p style=\"color:#555;font-size:0.9rem;line-height:1.4rem\">调查结束<br/>该问卷已失效</p>\n           </div>\n       </div>\n       <div class=\"wrap_content_tip\" v-if=\"isShowTip\">\n           <div class=\"content_tip_over\">\n               <img :src=\"showTipImgUrl\"/>\n               <div class=\"content_tip_btn\">\n                   <span>{{showTipTextTop}}</span>\n                   <span v-html=\"showTipTextBottom\"></span>\n               </div>\n           </div>\n       </div>\n        <p class=\"wrap_copy color_999 font12\">页面由中软国际解放号免费提供<br/>www.jfh.com</p>\n   </div>\n</template>\n\n<script>\n    import API from '@/serve/index.js';//公共接口\n    export default {\n        data(){\n           return{\n               qrcodeId:'',\n               activeIsExit:0,\n               data:'',\n               userRole:'',\n               bannerImg:'',\n               isShowTip: false,\n               showTipTextTop: '',\n               showTipTextBottom: '',\n               showTipImgUrl: null,\n               componyTitle: '',\n           }\n        },\n        methods:{\n            // 点击--查看我的组织\n            goZuzhiBtn:function(){\n                var query = {\n                    'qrcodeId':this.qrcodeId,\n                    'companyId':this.data.companyId,\n                    'companyNo':this.data.companyNo\n                }\n                this.$router.push({path:'/orgnizationInfo',query:query});\n            },\n            // 点击--填写我的健康信息\n\n            addHealthBtn:function(){\n                if(window.location.href.indexOf('localhost') > -1){\n                    this.$router.push({ path: '/entryNumber/information',query: { qrcodeId: this.qrcodeId ,name:this.data.companyName,role:this.userRole,id:this.data.companyNo}});\n                }else{\n                    window.location.href= 'https://'+window.location.host+'/#/entryNumber/information?qrcodeId='+this.qrcodeId + '&name='+this.data.companyName+'&role='+this.userRole+'&id='+this.data.companyNo+\"&oldrefs=2\";\n                }\n\n            },\n            // 獲取組織信息\n            getData:function(){\n                // 判断页面是否被删除\n                API('get','/yjgcrest/feiyan/getQuestionnaire',{'qrcodeId':this.qrcodeId}).then(result => {\n                    if(result.data.status == 200){ //成功\n                        this.activeIsExit = result.data.data.status;\n                        if(this.activeIsExit == 1){ // 正常\n                            API('JSONPOST','/yjgcrest/feiyan/queryCompanyInfo',{'qrcodeId':this.qrcodeId,'companyNo':''}).then(res => {\n                                if(res.data.status == 200){ //成功\n                                    this.data = res.data.data.companyInfo;\n                                }\n                            })\n                        }\n                    }\n                })\n            },\n            // 判断用户身份\n            getUserRole:function(){\n                var that = this;\n                var uertel = this.$util.getCookie('userTel');\n                this.$util.setCookie('channelCodeSec',this.$route.query.channelCodeSe);\n            \n                var query = {\n                    'qrcodeId':this.qrcodeId,\n                    'urltype':'question',\n                    'channelCodeSe':this.$util.getCookie('channelCodeSec') ? this.$util.getCookie('channelCodeSec') : '',\n                }\n                if(!uertel||uertel==''){\n                    this.$router.push({path:'/verify',query:query});\n                    return;\n                }else{\n                    API('get','/yjgcrest/feiyan/mobileexists?mobile='+ uertel).then( res => {\n                        if(res.data.code == '000001' && res.data.status == 200){\n                            if(res.data.data && res.data.data.exists == 1){  // 说明用户注册过\n                                that.handleChannelCode();\n                            }else{\n                                that.$router.push({path:'/verify',query:query});\n                                return;\n                            }\n                        }\n                    }).catch( error => {\n                        console.log(error)\n                    })\n                }\n            },\n            // 获取banner\n            getBanner(){\n                var that = this;\n                var code = this.$route.query.channelCodeSe;\n                if(!code){\n                    this.bannerImg = '';\n                    var imgUrl = require('../../assets/imgs/originationNumber/origaination_banner.png');\n                    this.bannerImg = imgUrl;\n                  \n                }else{\n                    API('get','/yjgcrest/feiyan/channel?channelCodeSec=' + code).then( res => {\n                        if(res.data.status == 200 && res.data.code == '000001'){\n                                var data = JSON.parse(res.data.data.theme);\n                                that.bannerImg = data.banner;\n                                document.title = data.title;\n                                this.componyTitle = data.title;\n                               \n                        }\n                    }).catch( error => {\n                        console.log(error)\n                    })\n                }\n            },\n            // 判断该用户是否是该单位的\n            judgeRole(){\n                var that = this;\n                API('get','/yjgcrest/feiyan/getMobileQrcodeId',{mobile:this.$util.getCookie('userTel')}).then( res => {\n                    if(res.data.status == 200 && res.data.code == '000001'){\n                        if(res.data.data && res.data.data.qrcodeId){\n                            that.qrcodeId = res.data.data.qrcodeId\n                        }else{\n                            that.qrcodeId =  that.$route.query.qrcodeId;\n                        }\n                        that.getData();\n                        API('get','/yjgcrest/feiyan/companyPersonList',{'qrcodeId':that.qrcodeId}).then(result => {\n                            if (result.data.status == 200) { //成功\n                                if(result.data.data.personList && result.data.data.personList.length > 0){\n                                    var phone = result.data.data.mobile;\n                                    var num = 0;\n                                    for(var i = 0; i < result.data.data.personList.length; i ++){\n                                        if(this.$util.getCookie('userTel') == result.data.data.personList[i].mobile){\n                                            num = num + 1;\n                                        }\n                                    }\n                                    if(num > 0){  // 管理者 || uertel == phone\n                                        that.userRole = 2;\n                                    }else{\n                                        that.userRole = 1;\n                                    }\n                                }else{\n                                    that.userRole = 1;\n                                }\n                            }\n                        })\n                    }\n                }).catch( error => {\n                    console.log(error)\n                })\n            },\n\n            //判断扫描的二维码的码和接口返回的渠道码是否一致\n            handleChannelCode() {\n                var that = this;\n                var uertel = this.$util.getCookie('userTel');\n                let curCode = this.$route.query.channelCodeSe || this.$util.getCookie('channelCodeSec');\n                if (curCode == 'undefined' || curCode == 'null' || curCode == '') {\n                    curCode = 'Y29tbW9uOzE3'\n                }\n                API('get','/yjgcrest/feiyan/findUserChannel', {mobile: uertel, channelCode: curCode}).then(res => {\n                    if(res.data.status == 200 && res.data.code == '000001'){\n                        var seleChannelCode = res.data.data.selfChannel;\n                        var codeName = '';\n                        if (seleChannelCode == 'dmFsbGV5Ozkx') {\n                            codeName = '软件谷';\n                        }\n                        if (seleChannelCode  == 'ZnV0dXJlOzM3') {\n                            codeName = '未来城';\n                        }\n                        if (!seleChannelCode) {\n                            seleChannelCode = 'Y29tbW9uOzE3'\n                        }\n                        if (seleChannelCode == 'dmFsbGV5Ozkx'&&curCode=='ZnV0dXJlOzM3') {\n                            that.isShowTip = true\n                            that.showTipTextTop = '您已填报信息，请使用';\n                             that.showTipTextBottom = '“<span style=\"color: #2D78E0\">中国（南京）软件谷</span>”的二维码填报健康信息';\n                             that.showTipImgUrl = require('../../../static/image/icon-tips-2.png');\n                        }else if (seleChannelCode == 'ZnV0dXJlOzM3'&&curCode=='dmFsbGV5Ozkx') {\n                            that.isShowTip = true\n                            that.showTipTextTop = '您已填报信息，请使用';\n                            that.showTipTextBottom = '“<span style=\"color: #2D78E0\">南京未来科技城</span>”的二维码填报健康信息';\n                            that.showTipImgUrl = require('../../../static/image/icon-tips-2.png');\n                        }else if (seleChannelCode == 'Y29tbW9uOzE3' && curCode == 'dmFsbGV5Ozkx') {\n                            that.isShowTip = true\n                            that.showTipTextTop = '信息填报需所属公司管理员';\n                            that.showTipTextBottom = '联系<span style=\"color: #2D78E0\">软件谷管委会</span>申请';\n                            that.showTipImgUrl = require('../../../static/image/icon-tips-1.png');\n                        }else{\n                            that.isShowTip = false;\n                            that.judgeRole(); \n                        }\n                        \n\n                    } else {\n                        that.isShowTip = false;\n                        that.judgeRole();\n                    }\n                }).catch( error => {\n                    console.log(error)\n                })\n            }\n        },\n        mounted(){\n            this.qrcodeId =  this.$route.query.qrcodeId;\n            if(this.$route.query.channelCodeSe&&this.$route.query.channelCodeSe!=''){\n                this.$util.setCookie('channelCodeSec',this.$route.query.channelCodeSe);\n                sessionStorage.setItem('channelCodeSec', this.$route.query.channelCodeSe);\n            }else{\n                // this.$util.delCookie('channelCodeSec');\n            }\n            // else{\n            //     this.$util.setCookie('channelCodeSec','');\n            // }\n            //   this.getUserRole();\n            // this.$util.setCookie('qrcodeId',this.qrcodeId);\n            sessionStorage.setItem('qrcodeId', this.qrcodeId);\n            this.handleChannelCode();\n            this.getBanner();\n        },\n        created(){\n            document.title = '信息收集';\n        },\n    }\n<\/script>\n\n<style scoped>\n    .wrap{\n        width:100%;\n        height:100%;\n        background:#f8f8f8;\n    }\n    .banner{\n        width:100%;\n        height:6.25rem;\n        overflow:hidden;\n    }\n    .banner img{\n        float:left;\n        width:100%;\n        height:auto;\n    }\n    .wrap_content{\n        padding:0.7rem;\n    }\n    .content{\n        padding:1.4rem 1.5rem;\n        border-radius:4px;\n        background:#fff;\n        box-sizing: border-box;\n    }\n    .wrap_content_gameover{\n        padding:0.7rem;\n        box-sizing: border-box;\n        height:70%;\n    }\n    .content_over{\n        padding:2.4rem 1.5rem;\n        border-radius:4px;\n        background:#fff;\n        box-sizing: border-box;\n        text-align:center;\n        height:100%;\n    }\n    .content_over img{\n        width:3rem;\n        height:3rem;\n        margin-bottom:0.7rem;\n    }\n    .content_title{\n        height:0.9rem;\n        line-height:0.9rem;\n        padding-bottom: 1.5rem;\n     \n    }\n    .content_title i{\n        display:block;\n        width:0.4rem;\n        height:0.4rem;\n        border-radius:50%;\n        background:#3366CC;\n        float:left;\n        margin-top:0.25rem;\n    }\n    .content_title span{\n        display:block;\n        height:0.9rem;\n        line-height:0.9rem;\n        font-size:0.8rem;\n        margin-left:0.6rem;\n        color:#333;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        \n    }\n    .content_id{\n        padding-left:0.9rem;\n        padding-top:0.7rem;\n        padding-bottom:1.5rem;\n        font-size:0.6rem;\n        color:#999;\n    }\n    .content_des{\n        color:#999;\n        line-height:0.9rem;\n    }\n    .content_btns{\n        width:100%;\n        margin-top:4.8rem;\n    }\n    .content_btns span{\n        display:block;\n        width:100%;\n        height:2.5rem;\n        line-height:2.5rem;\n        text-align:center;\n        border-radius:2.5rem;\n        color:#fff;\n        font-size:1.05rem;\n    }\n    .content_btns .bg_blue{\n        background:#3366CC;\n    }\n    .content_btns .bg_red{\n        background:#CC0000;\n        margin-top:0.6rem;\n    }\n    .wrap_copy{\n        width:100%;\n        position:fixed;\n        bottom:0.9rem;\n        left:0;\n        text-align:center;\n    }\n.content_tip_over {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 1.75rem;\n}\n.content_tip_btn {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    border: 1px solid #eeeeee;\n    background-color: #fff;\n    border-radius: 2rem;\n    width: 14rem;\n    height: 3rem;\n    font-size: 0.7rem;\n    color: #333;\n}\n</style>\n"],sourceRoot:""}])},agw0:function(n,e,t){n.exports=t.p+"static/img/icon-tips-1.3397bc4.png"},gziS:function(n,e,t){var o=t("UQhR");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t("rjj0")("415942e9",o,!1,{})},n9lc:function(n,e,t){n.exports=t.p+"static/img/failure.6d7c665.png"},y1rA:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("gZND"),a={data:function(){return{qrcodeId:"",activeIsExit:0,data:"",userRole:"",bannerImg:"",isShowTip:!1,showTipTextTop:"",showTipTextBottom:"",showTipImgUrl:null,componyTitle:""}},methods:{goZuzhiBtn:function(){var n={qrcodeId:this.qrcodeId,companyId:this.data.companyId,companyNo:this.data.companyNo};this.$router.push({path:"/orgnizationInfo",query:n})},addHealthBtn:function(){window.location.href.indexOf("localhost")>-1?this.$router.push({path:"/entryNumber/information",query:{qrcodeId:this.qrcodeId,name:this.data.companyName,role:this.userRole,id:this.data.companyNo}}):window.location.href="https://"+window.location.host+"/#/entryNumber/information?qrcodeId="+this.qrcodeId+"&name="+this.data.companyName+"&role="+this.userRole+"&id="+this.data.companyNo+"&oldrefs=2"},getData:function(){var n=this;Object(o.a)("get","/yjgcrest/feiyan/getQuestionnaire",{qrcodeId:this.qrcodeId}).then(function(e){200==e.data.status&&(n.activeIsExit=e.data.data.status,1==n.activeIsExit&&Object(o.a)("JSONPOST","/yjgcrest/feiyan/queryCompanyInfo",{qrcodeId:n.qrcodeId,companyNo:""}).then(function(e){200==e.data.status&&(n.data=e.data.data.companyInfo)}))})},getUserRole:function(){var n=this,e=this.$util.getCookie("userTel");this.$util.setCookie("channelCodeSec",this.$route.query.channelCodeSe);var t={qrcodeId:this.qrcodeId,urltype:"question",channelCodeSe:this.$util.getCookie("channelCodeSec")?this.$util.getCookie("channelCodeSec"):""};e&&""!=e?Object(o.a)("get","/yjgcrest/feiyan/mobileexists?mobile="+e).then(function(e){if("000001"==e.data.code&&200==e.data.status){if(!e.data.data||1!=e.data.data.exists)return void n.$router.push({path:"/verify",query:t});n.handleChannelCode()}}).catch(function(n){console.log(n)}):this.$router.push({path:"/verify",query:t})},getBanner:function(){var n=this,e=this,a=this.$route.query.channelCodeSe;if(a)Object(o.a)("get","/yjgcrest/feiyan/channel?channelCodeSec="+a).then(function(t){if(200==t.data.status&&"000001"==t.data.code){var o=JSON.parse(t.data.data.theme);e.bannerImg=o.banner,document.title=o.title,n.componyTitle=o.title}}).catch(function(n){console.log(n)});else{this.bannerImg="";var i=t("+Qqk");this.bannerImg=i}},judgeRole:function(){var n=this,e=this;Object(o.a)("get","/yjgcrest/feiyan/getMobileQrcodeId",{mobile:this.$util.getCookie("userTel")}).then(function(t){200==t.data.status&&"000001"==t.data.code&&(t.data.data&&t.data.data.qrcodeId?e.qrcodeId=t.data.data.qrcodeId:e.qrcodeId=e.$route.query.qrcodeId,e.getData(),Object(o.a)("get","/yjgcrest/feiyan/companyPersonList",{qrcodeId:e.qrcodeId}).then(function(t){if(200==t.data.status)if(t.data.data.personList&&t.data.data.personList.length>0){t.data.data.mobile;for(var o=0,a=0;a<t.data.data.personList.length;a++)n.$util.getCookie("userTel")==t.data.data.personList[a].mobile&&(o+=1);e.userRole=o>0?2:1}else e.userRole=1}))}).catch(function(n){console.log(n)})},handleChannelCode:function(){var n=this,e=this.$util.getCookie("userTel"),a=this.$route.query.channelCodeSe||this.$util.getCookie("channelCodeSec");"undefined"!=a&&"null"!=a&&""!=a||(a="Y29tbW9uOzE3"),Object(o.a)("get","/yjgcrest/feiyan/findUserChannel",{mobile:e,channelCode:a}).then(function(e){if(200==e.data.status&&"000001"==e.data.code){var o=e.data.data.selfChannel;"dmFsbGV5Ozkx"==o&&"软件谷","ZnV0dXJlOzM3"==o&&"未来城",o||(o="Y29tbW9uOzE3"),"dmFsbGV5Ozkx"==o&&"ZnV0dXJlOzM3"==a?(n.isShowTip=!0,n.showTipTextTop="您已填报信息，请使用",n.showTipTextBottom='“<span style="color: #2D78E0">中国（南京）软件谷</span>”的二维码填报健康信息',n.showTipImgUrl=t("3AhG")):"ZnV0dXJlOzM3"==o&&"dmFsbGV5Ozkx"==a?(n.isShowTip=!0,n.showTipTextTop="您已填报信息，请使用",n.showTipTextBottom='“<span style="color: #2D78E0">南京未来科技城</span>”的二维码填报健康信息',n.showTipImgUrl=t("3AhG")):"Y29tbW9uOzE3"==o&&"dmFsbGV5Ozkx"==a?(n.isShowTip=!0,n.showTipTextTop="信息填报需所属公司管理员",n.showTipTextBottom='联系<span style="color: #2D78E0">软件谷管委会</span>申请',n.showTipImgUrl=t("agw0")):(n.isShowTip=!1,n.judgeRole())}else n.isShowTip=!1,n.judgeRole()}).catch(function(n){console.log(n)})}},mounted:function(){this.qrcodeId=this.$route.query.qrcodeId,this.$route.query.channelCodeSe&&""!=this.$route.query.channelCodeSe&&(this.$util.setCookie("channelCodeSec",this.$route.query.channelCodeSe),sessionStorage.setItem("channelCodeSec",this.$route.query.channelCodeSe)),sessionStorage.setItem("qrcodeId",this.qrcodeId),this.handleChannelCode(),this.getBanner()},created:function(){document.title="信息收集"}},i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"wrap"},[t("div",{staticClass:"banner"},[t("img",{attrs:{src:n.bannerImg}})]),n._v(" "),1==n.activeIsExit?t("div",{staticClass:"wrap_content"},[t("div",{staticClass:"content"},[t("h3",{staticClass:"content_title"},[t("i"),t("span",[n._v(n._s(n.data.companyName))])]),n._v(" "),t("p",{staticClass:"content_des font12 color_999"},[n._v("\n                 目前全国正在万众一心抗击新型冠状病毒疫情，我们牵挂每一位人员在这场疫情中的平安和健康，为了了解大家目前的真实情况，上下一心，一起把风险降到最低，请您务必及时如实填写问卷，感谢您的支持与配合，我们期待您平安归来。\n             ")]),n._v(" "),n.userRole?t("div",{staticClass:"content_btns"},[t("span",{staticClass:"bg_blue",on:{click:n.addHealthBtn}},[n._v("填报我的健康信息")]),n._v(" "),2==n.userRole?t("span",{staticClass:"bg_red",on:{click:n.goZuzhiBtn}},[n._v("查看我的单位信息")]):n._e()]):n._e()])]):n._e(),n._v(" "),2==n.activeIsExit?t("div",{staticClass:"wrap_content_gameover"},[n._m(0)]):n._e(),n._v(" "),n.isShowTip?t("div",{staticClass:"wrap_content_tip"},[t("div",{staticClass:"content_tip_over"},[t("img",{attrs:{src:n.showTipImgUrl}}),n._v(" "),t("div",{staticClass:"content_tip_btn"},[t("span",[n._v(n._s(n.showTipTextTop))]),n._v(" "),t("span",{domProps:{innerHTML:n._s(n.showTipTextBottom)}})])])]):n._e(),n._v(" "),n._m(1)])},r=[function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"content_over"},[e("img",{attrs:{src:t("n9lc")}}),this._v(" "),e("p",{staticStyle:{color:"#555","font-size":"0.9rem","line-height":"1.4rem"}},[this._v("调查结束"),e("br"),this._v("该问卷已失效")])])},function(){var n=this.$createElement,e=this._self._c||n;return e("p",{staticClass:"wrap_copy color_999 font12"},[this._v("页面由中软国际解放号免费提供"),e("br"),this._v("www.jfh.com")])}];i._withStripped=!0;var s={render:i,staticRenderFns:r},A=s;var d=!1;var c=t("VU/8")(a,A,!1,function(n){d||t("gziS")},"data-v-5468b538",null);c.options.__file="src/components/organizationNumber/entryNumber.vue";e.default=c.exports}});
//# sourceMappingURL=7.31cfce32e0faed828b18.js.map