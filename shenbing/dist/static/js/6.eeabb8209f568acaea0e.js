webpackJsonp([6],{"7A8G":function(e,n,t){e.exports=t.p+"static/img/code_bg.9f2fa2d.png"},"9bBU":function(e,n,t){t("mClu");var o=t("FeBl").Object;e.exports=function(e,n,t){return o.defineProperty(e,n,t)}},C4MV:function(e,n,t){e.exports={default:t("9bBU"),__esModule:!0}},F1hM:function(e,n,t){var o=t("vK2O");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("rjj0")("5fa71de2",o,!1,{})},bOdI:function(e,n,t){"use strict";n.__esModule=!0;var o,i=t("C4MV"),r=(o=i)&&o.__esModule?o:{default:o};n.default=function(e,n,t){return n in e?(0,r.default)(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},kxFB:function(e,n){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},m7Hu:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("bOdI"),r=t.n(i),A=t("TVG1"),a=t("gZND"),c=(o={name:"",data:function(){return{createdCoded:!1,posterImgUrl:"",companyName:"",qrcodeId:""}},components:{},methods:{getUserRole:function(){var e=this,n=this.$util.getCookie("userTel"),t={qrcodeId:this.qrcodeId,urltype:"question",channelCodeSe:this.$util.getCookie("channelCodeSec")?this.$util.getCookie("channelCodeSec"):""};if(!n||""==n)return alert("未登录或登录失效，请重新登录"),void this.$router.push({path:"/verify",query:t});Object(a.a)("get","/yjgcrest/feiyan/mobileexists?mobile="+n).then(function(n){"000001"!=n.data.code&&200!=n.data.status&&n.data.data&&1==n.data.data.exists||e.$router.push({path:"/verify",query:t})}).catch(function(e){console.log(e)})},creatCode:function(){var e,n=this;if(e="localhost:8080"==window.location.host?"http://"+window.location.host+"/#":"https://"+window.location.host+"/#",this.$route.query.qrcodeId&&this.$route.query.companyId)if(A.b.getCookie("userTel")&&A.b.getCookie("userTel"),this.$route.query.qrcodeId&&this.$route.query.companyId){this.$route.query.newQrcode&&1==this.$route.query.newQrcode&&(n.createdCoded=!0);var t=e+"/entryNumber/index?qrcodeId="+this.$route.query.qrcodeId;if(sessionStorage.getItem("channelCodeSec")){var o=sessionStorage.getItem("channelCodeSec");t=e+"/entryNumber/index?qrcodeId="+this.$route.query.qrcodeId+"&channelCodeSe="+o}new QRCode(document.getElementById("qrcode"),{text:t,width:148,height:148,colorDark:"#000000",colorLight:"#ffffff"},t);setTimeout(function(){n.initialize()},50)}else window.location.href=e+"/#/index";else window.location.href=e+"/#/index"},escape2Html:function(e){var n={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,function(e,t){return n[t]})},initialize:function(){var e=this;this.getCompany(function(){var n=setInterval(function(){""!=$("#qrcode").find("img").attr("src")&&(clearInterval(n),e.createPoster())},500)})},getCompany:function(e){var n=this;Object(a.a)("get","/yjgcrest/feiyan/getCompany",{companyId:this.$route.query.companyId}).then(function(t){"000001"==t.data.code&&(n.companyName=t.data.data.name,setTimeout(function(){e&&e()},50))}).catch(function(e){console.log(e)})},createPoster:function(){var e=this,n=document.createElement("canvas"),t=this.$refs.posterWrapper,o=t.clientWidth,i=t.clientHeight,r="";r=1==this.createdCoded?61:46,n.width=1*o,n.height=1*i,n.style.width=1*t.clientWidth+"px",n.style.height=1*t.clientHeight+"px",n.getContext("2d").scale(1,1),this.posterWidth=o;var A={scale:1,width:o,height:i,backgroundColor:null,canvas:n,useCORS:!0,logging:!0,y:r,x:t.offsetLeft};html2canvas(this.$refs.posterWrapper,A).then(function(n){e.posterImgUrl=n.toDataURL("image/png")})}}},r()(o,"components",{}),r()(o,"computed",{}),r()(o,"created",function(){A.b.setTitle("创建二维码")}),r()(o,"mounted",function(){var e=this;this.creatCode(),setTimeout(function(){1==e.$route.query.reloadme&&(window.location.href=window.location.href.replace("reloadme=1",""),window.location.reload())},300),sessionStorage.setItem("qrcodeId",this.$route.query.qrcodeId)}),o),s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"codeMask box_border alignCenter"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.createdCoded,expression:"createdCoded"}],staticClass:"color_blue font075 lHeight_075"},[e._v("#您已经创建过# ")]),e._v(" "),t("div",{staticClass:"color_white font075 lHeight_13"},[e._v("长按图片保存到手机相册")]),e._v(" "),t("div",{staticClass:"spacer_04"}),e._v(" "),t("div",{staticClass:"pr",attrs:{id:"creatCode"}},[e.posterImgUrl?t("div",[t("img",{attrs:{src:e.posterImgUrl,alt:""}})]):t("div",{ref:"posterWrapper",staticClass:"code_area box_border"},[t("div",{staticClass:"lHeight_09 box_border",domProps:{innerHTML:e._s(e.companyName)}}),e._v(" "),t("div",{staticClass:"box_border alignCenter",attrs:{id:"qrcode"}})]),e._v(" "),t("div",{staticClass:"spacer_04"}),e._v(" "),t("div",{staticClass:"spacer_04"}),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"spacer_06"}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.createdCoded,expression:"createdCoded"}],staticClass:"font06 color_666 lHeight_075 alignLeft",staticStyle:{width:"76%",margin:"0 auto"}},[e._v("为了更好的进行疫情沟通，您单位内的人员可以查看到您的联系方式，请您知悉。")])])])};s._withStripped=!0;var l={render:s,staticRenderFns:[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"font06 color_ccc lHeight_075 alignCenter"},[this._v("分享您的二维码"),n("br"),this._v("更快更好的收集健康信息")])}]},d=l;var C=!1;var h=t("VU/8")(c,d,!1,function(e){C||t("F1hM")},null,null);h.options.__file="src/components/index/creatCode.vue";n.default=h.exports},mClu:function(e,n,t){var o=t("kM2E");o(o.S+o.F*!t("+E39"),"Object",{defineProperty:t("evD5").f})},vK2O:function(e,n,t){var o=t("kxFB");(e.exports=t("FZ+f")(!0)).push([e.i,"\nhtml,body{\n  height: 100%;\n}\n.box_border{box-sizing: border-box;-webkit-box-sizing: border-box;\n}\n.box_content{box-sizing: content-box;-webkit-box-sizing: content-box;\n}\n.pr{position: relative;\n}\n.pa{position: absolute;\n}\n.codeMask{\n    width: 100%;\n    min-height: 100%;\n    padding: .6rem 0 1rem;\n    background-color: rgba(0,0,0,.8);\n}\n.color_333{color: #333;\n}\n.color_666{color: #666;\n}\n.color_ccc{color: #ccc;\n}\n.color_6c{color: #6C7D92;\n}\n.color_white{color: #fff;\n}\n.color_blue{color: #2D78E0;\n}\n.font06{font-size: .6rem;\n}\n.font07{font-size: .7rem;\n}\n.font075{font-size: .75rem;\n}\n.font09{font-size: .9rem;\n}\n.b500{font-weight: 500;\n}\n.lHeight_075{line-height: .75rem;\n}\n.lHeight_09{line-height: .9rem;\n}\n.lHeight_10{line-height: 1rem;\n}\n.lHeight_13{ line-height: 1.3rem;\n}\n.spacer_04{height: .4rem;\n}\n.spacer_10{height: 1rem;\n}\n.spacer_05{height: .5rem;\n}\n.spacer_06{height: .6rem;\n}\n.alignCenter{text-align: center;\n}\n.alignLeft{text-align: left;\n}\n.alignRight{text-align: right;\n}\n.code_area{\n    margin: 0 auto;\n    width: 15.5rem;\n    height: 22.25rem;\n    background: url("+o(t("7A8G"))+")no-repeat center top;\n    background-size: 100% auto;\n    padding-top: 4.15rem;\n}\n.code_area .lHeight_09{\n    margin: 0 auto;\n    width: 10.5rem;\n    word-break: break-all;\n  font-size: .6rem;\n  color: #333;\n  line-height: 1.05rem;\n  min-height: 1.91rem;\n  padding: 0 0 .41rem;\n}\n#canvas{\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.creatCode{\n    z-index: 20;\n}\n#qrcode{\n    position: relative;\n    margin: 0 auto;\n    width: 7.38rem;\n    height: 7.38rem;\n}\n#qrcode canvas{\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n#qrcode img{\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 7.38rem!important;\n    height: 7.38rem!important;\n} \n\n","",{version:3,sources:["/Users/shanshan/Desktop/vue-project/shenbing/src/components/index/css/creatCode.css"],names:[],mappings:";AAAA;EACE,aAAa;CACd;AACD,YAAY,uBAAuB,+BAA+B;CAAC;AACnE,aAAa,wBAAwB,gCAAgC;CAAC;AACtE,IAAI,mBAAmB;CAAC;AACxB,IAAI,mBAAmB;CAAC;AACxB;IACI,YAAY;IACZ,iBAAiB;IACjB,sBAAsB;IACtB,iCAAiC;CACpC;AAED,WAAW,YAAY;CAAC;AACxB,WAAW,YAAY;CAAC;AACxB,WAAW,YAAY;CAAC;AACxB,UAAU,eAAe;CAAC;AAC1B,aAAa,YAAY;CAAC;AAC1B,YAAY,eAAe;CAAC;AAC5B,QAAQ,iBAAiB;CAAC;AAC1B,QAAQ,iBAAiB;CAAC;AAC1B,SAAS,kBAAkB;CAAC;AAC5B,QAAQ,iBAAiB;CAAC;AAC1B,MAAM,iBAAiB;CAAC;AAExB,aAAa,oBAAoB;CAAC;AAClC,YAAY,mBAAmB;CAAC;AAChC,YAAY,kBAAkB;CAAC;AAC/B,aAAa,oBAAoB;CAAC;AAClC,WAAW,cAAc;CAAC;AAC1B,WAAW,aAAa;CAAC;AACzB,WAAW,cAAc;CAAC;AAC1B,WAAW,cAAc;CAAC;AAE1B,aAAa,mBAAmB;CAAC;AACjC,WAAW,iBAAiB;CAAC;AAC7B,YAAY,kBAAkB;CAAC;AAC/B;IACI,eAAe;IACf,eAAe;IACf,iBAAiB;IACjB,8DAAwD;IACxD,2BAA2B;IAC3B,qBAAqB;CACxB;AACD;IACI,eAAe;IACf,eAAe;IACf,sBAAsB;EACxB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,oBAAoB;EACpB,oBAAoB;CACrB;AAED;IACI,mBAAmB;IACnB,OAAO;IACP,QAAQ;CACX;AACD;IACI,YAAY;CACf;AACD;IACI,mBAAmB;IACnB,eAAe;IACf,eAAe;IACf,gBAAgB;CAEnB;AACD;IACI,mBAAmB;IACnB,OAAO;IACP,QAAQ;CACX;AACD;IACI,mBAAmB;IACnB,OAAO;IACP,QAAQ;;IAER,yBAAyB;IACzB,0BAA0B;CAE7B",file:"creatCode.vue",sourcesContent:["html,body{\n  height: 100%;\n}\n.box_border{box-sizing: border-box;-webkit-box-sizing: border-box;}\n.box_content{box-sizing: content-box;-webkit-box-sizing: content-box;}\n.pr{position: relative;}\n.pa{position: absolute;}\n.codeMask{\n    width: 100%;\n    min-height: 100%;\n    padding: .6rem 0 1rem;\n    background-color: rgba(0,0,0,.8);\n}\n\n.color_333{color: #333;}\n.color_666{color: #666;}\n.color_ccc{color: #ccc;}\n.color_6c{color: #6C7D92;}\n.color_white{color: #fff;}\n.color_blue{color: #2D78E0;}\n.font06{font-size: .6rem;}\n.font07{font-size: .7rem;}\n.font075{font-size: .75rem;}\n.font09{font-size: .9rem;}\n.b500{font-weight: 500;}\n\n.lHeight_075{line-height: .75rem;}\n.lHeight_09{line-height: .9rem;}\n.lHeight_10{line-height: 1rem;}\n.lHeight_13{ line-height: 1.3rem;}\n.spacer_04{height: .4rem;}\n.spacer_10{height: 1rem;}\n.spacer_05{height: .5rem;}\n.spacer_06{height: .6rem;}\n\n.alignCenter{text-align: center;}\n.alignLeft{text-align: left;}\n.alignRight{text-align: right;}\n.code_area{\n    margin: 0 auto;\n    width: 15.5rem;\n    height: 22.25rem;\n    background: url(../img/code_bg.png)no-repeat center top;\n    background-size: 100% auto;\n    padding-top: 4.15rem;\n}\n.code_area .lHeight_09{\n    margin: 0 auto;\n    width: 10.5rem;\n    word-break: break-all;\n  font-size: .6rem;\n  color: #333;\n  line-height: 1.05rem;\n  min-height: 1.91rem;\n  padding: 0 0 .41rem;\n}\n\n#canvas{\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.creatCode{\n    z-index: 20;\n}\n#qrcode{\n    position: relative;\n    margin: 0 auto;\n    width: 7.38rem;\n    height: 7.38rem;\n   \n}\n#qrcode canvas{\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n#qrcode img{\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 7.38rem!important;\n    height: 7.38rem!important;\n  \n}"],sourceRoot:""}])}});
//# sourceMappingURL=6.eeabb8209f568acaea0e.js.map